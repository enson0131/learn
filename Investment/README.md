# 沪深300月初交易策略

## 策略概述

这是一个基于沪深300指数的量化交易策略，采用**每月前5个交易日满仓，其他时间空仓**的交易逻辑。

## 策略逻辑

1. **持仓规则**：每个月的前5个交易日满仓持有沪深300指数
2. **空仓规则**：每个月第6个交易日开始空仓，直到下个月开始
3. **资金管理**：满仓时100%资金投入，空仓时0%资金投入

## 策略表现（基于模拟数据）

| 指标 | 策略表现 | 基准表现 |
|------|----------|----------|
| 总收益率 | 66.76% | 1039.89% |
| 年化收益率 | 5.07% | 26.51% |
| 年化波动率 | 15.30% | 31.36% |
| 夏普比率 | 0.14 | 0.75 |
| 最大回撤 | -34.86% | -42.33% |
| 持仓天数占比 | 23.00% | 100% |

## 策略特点

### 优势
1. **降低波动率**：通过限制持仓时间，有效降低了投资组合的整体波动率
2. **减少最大回撤**：相比基准指数，策略的最大回撤有所改善
3. **资金利用效率**：在空仓期间资金可以用于其他投资机会

### 劣势
1. **错失收益**：在市场上涨期间，空仓会错失大部分收益机会
2. **择时风险**：策略基于固定时间规则，可能错过最佳买卖时机
3. **交易成本**：频繁的买卖操作会产生交易成本

## 文件说明

- `index1.py`：主要的策略实现代码
- `requirements.txt`：Python依赖包列表
- `README.md`：策略说明文档

## 使用方法

### 1. 环境准备

```bash
# 创建虚拟环境
python3 -m venv venv

# 激活虚拟环境
source venv/bin/activate  # macOS/Linux
# 或
venv\Scripts\activate     # Windows

# 安装依赖
pip install -r requirements.txt
```

### 2. 运行策略

```bash
python index1.py
```

### 3. 输出结果

运行后将输出：
1. **策略表现分析**：包括收益率、波动率、夏普比率等关键指标
2. **可视化图表**：
   - 策略收益率 vs 基准收益率对比图
   - 持仓信号时序图

## 代码结构

### 主要函数

1. **`download_hs300_data()`**：下载沪深300指数数据
   - 支持多个数据源备选
   - 数据获取失败时自动生成模拟数据

2. **`create_trading_strategy(data)`**：创建交易策略
   - 计算每月前5个交易日
   - 生成买卖信号
   - 计算策略收益率

3. **`calculate_performance_metrics(df)`**：计算策略表现指标
   - 年化收益率
   - 年化波动率
   - 夏普比率
   - 最大回撤

4. **`plot_returns(df)`**：绘制收益率图表
   - 策略 vs 基准收益率对比
   - 持仓信号可视化

## 改进建议

1. **动态调整**：可以根据市场情况动态调整持仓天数
2. **止损机制**：添加止损规则以控制下行风险
3. **多因子模型**：结合其他技术指标优化买卖时机
4. **资金管理**：实现更精细的资金管理策略

## 风险提示

⚠️ **重要提示**：
- 本策略仅供学习和研究使用
- 历史表现不代表未来收益
- 实际投资需要考虑交易成本、滑点等因素
- 投资有风险，入市需谨慎

## 技术栈

- **Python 3.x**
- **pandas**：数据处理
- **numpy**：数值计算
- **matplotlib**：数据可视化
- **yfinance**：金融数据获取

## 许可证

本项目仅供教育和研究目的使用。
