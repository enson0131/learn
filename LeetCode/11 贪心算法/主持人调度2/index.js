/**
 æ€è·¯
 1 é€šè¿‡ sort æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œä»å°åˆ°å¤§æ’åº
 2 æŸ¥æ‰¾ç›®å‰åŒºé—´çš„å¤´å…ƒç´ æ˜¯å¦åœ¨å½“å‰ä¸€ä¸ªåŒºé—´å¤–ï¼Œæ˜¯çš„è¯æ›´æ–°å½“å‰åŒºé—´
 3 å¦çš„è¯ï¼Œä¸»æŒäººäººæ•° + 1, å¹¶é‡ç½®å½“å‰äººæ•°
 * ä»£ç ä¸­çš„ç±»åã€æ–¹æ³•åã€å‚æ•°åå·²ç»æŒ‡å®šï¼Œè¯·å‹¿ä¿®æ”¹ï¼Œç›´æ¥è¿”å›æ–¹æ³•è§„å®šçš„å€¼å³å¯
 * è®¡ç®—æˆåŠŸä¸¾åŠæ´»åŠ¨éœ€è¦å¤šå°‘åä¸»æŒäºº
 * @param n intæ•´å‹ æœ‰nä¸ªæ´»åŠ¨
 * @param startEnd intæ•´å‹äºŒç»´æ•°ç»„ startEnd[i][0]ç”¨äºè¡¨ç¤ºç¬¬iä¸ªæ´»åŠ¨çš„å¼€å§‹æ—¶é—´ï¼ŒstartEnd[i][1]è¡¨ç¤ºç¬¬iä¸ªæ´»åŠ¨çš„ç»“æŸæ—¶é—´
 * @return intæ•´å‹
 */
function minmumNumberOfHost(n, startEnd) {
  if (n <= 1) return n;
  // write code here
  const arr = startEnd.sort((a, b) => {
    if (a[0] !== b[0]) return a[0] - b[0];
    return a[1] - b[1];
  });

  let res = 1;
  let pre = arr.shift();

  while (arr.length > 0) {
    const targetIndex = arr.findIndex((item) => item[0] >= pre[1]);
    if (targetIndex < 0) {
      pre = arr.shift();
      res++;
    } else {
      pre = arr[targetIndex];
      arr.splice(targetIndex, 1); // åˆ é™¤
    }
  }

  return res;
}

/**
 * 
 æ€è·¯
 éšå½¢æ¡ä»¶: start å¿…ç„¶å°äºç­‰äº end
 é€šè¿‡éšå½¢æ¡ä»¶å¯çŸ¥ï¼Œ åªè¦å½“å‰åŒºé—´çš„start >= end åˆ™ä¸éœ€è¦æ¢ä¸»æŒäºº  ğŸ‘‰ [start1, end1] [start2, end2]
 åªæœ‰å½“å½“å‰åŒºé—´çš„ start < end éœ€è¦æ›´æ¢æ”¯æŒäºº 

 å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å…ˆå¯¹å¼€å§‹åŒºé—´å’Œç»“æŸåŒºé—´è¿›è¡Œæ’åº
 åœ¨æ ¹æ®å½“å‰åŒºé—´çš„å¼€å§‹æ—¶é—´å’Œä¸Šä¸€ä¸ªåŒºé—´çš„ç»“æŸæ—¶é—´åšåˆ¤æ–­
 */
function minmumNumberOfHost2(n, startEnd) {
  if (n <= 1) return n;
  // write code here
  const start = startEnd.map((item) => item[0]).sort((a, b) => a - b);
  const end = startEnd.map((item) => item[1]).sort((a, b) => a - b);
  let res = 0;
  let j = 0;
  for (let i = 0; i < n; i++) {
    if (start[i] >= end[j]) {
      j++;
    } else {
      res++;
    }
  }

  return res;
}

console.log(
  minmumNumberOfHost(6, [
    [0, 1],
    [0, 1],
    [0, 1],
    [0, 1],
    [0, 1],
    [0, 1],
  ])
);

// console.log(
//   minmumNumberOfHost(34, [
//     [547, 612],
//     [417, 551],
//     [132, 132],
//     [168, 446],
//     [95, 747],
//     [187, 908],
//     [115, 712],
//     [15, 329],
//     [612, 900],
//     [3, 509],
//     [181, 200],
//     [562, 787],
//     [136, 268],
//     [36, 784],
//     [533, 573],
//     [165, 946],
//     [343, 442],
//     [127, 725],
//     [557, 991],
//     [604, 613],
//     [633, 721],
//     [287, 847],
//     [414, 480],
//     [428, 698],
//     [437, 616],
//     [475, 932],
//     [652, 886],
//     [19, 992],
//     [132, 543],
//     [390, 869],
//     [754, 903],
//     [284, 925],
//     [511, 951],
//     [272, 739],
//   ])
// );
